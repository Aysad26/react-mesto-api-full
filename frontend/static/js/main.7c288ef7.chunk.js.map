{"version":3,"sources":["utils/Api.js","images/logo.svg","components/Header.js","images/edit-icon.svg","images/add-icon.svg","images/Trash.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteSubmitPopup.js","components/Register.js","components/Login.js","utils/auth.js","components/ProtectedRoute.js","images/error.svg","images/success.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","server","this","_server","endpoint","method","body","token","localStorage","getItem","fetchInit","headers","authorization","fetch","JSON","stringify","then","res","ok","json","Promise","reject","status","_makeRequest","name","job","about","link","id","isLiked","avatar","Header","email","onClick","React","useState","linkClassName","className","src","logo","alt","path","to","CurrentUserContext","createContext","Card","props","userId","useContext","isOwn","dataCards","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","style","backgroundImage","Trash","type","onCardDelete","onCardClick","onCardLike","length","Main","currentUser","onEditAvatar","editIcon","onEditProfile","onAddCard","addIcon","Array","from","cards","map","item","Footer","ImagePopup","isOpen","onClose","card","PopupWithForm","title","onSubmit","novalidate","children","submitText","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardsNameRef","cardsLinkRef","onAddPlace","DeleteSubmitPopup","Register","onRegister","password","inputValue","setInputValue","handleInputChange","autocomplete","Login","onLogin","BASE_URL","checkStatus","ProtectedRoute","loggedIn","InfoTooltip","isSuccess","message","success","error","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","deleteSubmitPopup","setDeleteSubmitPopup","deleteCard","setDeleteCard","isImagePopupOpen","setImagePopupOpen","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","selectedCard","setSelectedCard","setLoggedIn","setEmail","isSuccessful","setIsSuccessful","setMessage","history","useHistory","closeAllPopups","handleEsc","event","keyCode","window","addEventListener","removeEventListener","setCurrentUser","userInfoGet","setUserInfoGet","currentCards","setCurrentCards","tokenCheck","Authorization","auth","data","push","catch","err","console","log","all","getUserInfo","getCards","userInfo","cardList","Provider","removeItem","exact","loader","changeLikeCardStatus","newCard","newCards","c","response","Accept","setItem","changeUserInfo","changeUserImage","addCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7c288ef7.chunk.js","sourcesContent":["class Api {\n  constructor({server}) {\n      this._server = server\n  }\n  _makeRequest(endpoint, method, body) {\n      const token = localStorage.getItem(\"jwt\");\n      const fetchInit = {\n          method: method,\n          headers: {\n              authorization: `Bearer ${token}`,\n              'Content-Type': 'application/json'\n          }\n      }\n      return fetch(`${this._server}${endpoint}`, body ? {...fetchInit,\n          body: JSON.stringify(body)\n      } : fetchInit).then(\n          (res => {\n              if (res.ok) {\n                  return res.json()\n              } else {\n                  return Promise.reject(res.status)\n              }\n          }))\n  }\n  getCards() {\n      return this._makeRequest('/cards', 'GET')\n  }\n  getUserInfo() {\n      return this._makeRequest('/users/me', 'GET')\n  }\n  changeUserInfo(name, job) {\n      return this._makeRequest('/users/me', 'PATCH', {\n          name: name,\n          about: job\n      })\n  }\n  addCard({\n      name,\n      link\n  }) {\n      return this._makeRequest('/cards', 'POST', {\n          name,\n          link\n      })\n  }\n  deleteCard(id) {\n      return this._makeRequest(`/cards/${id}`, 'DELETE')\n  }\n  changeLikeCardStatus(id, isLiked) {\n      return this._makeRequest(`/cards/${id}/likes`, isLiked ? 'DELETE' : 'PUT')\n  }\n  changeUserImage(avatar) {\n      return this._makeRequest('/users/me/avatar', 'PATCH', {\n          avatar: avatar\n      })\n  }\n}\nconst api = new Api({server: 'https://api.mesto.aysad26.nomoredomains.rocks'});\nexport default api; ","export default __webpack_public_path__ + \"static/media/logo.f052b6a4.svg\";","import React from 'react';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport '../index.css';\nimport logo from '../images/logo.svg';\n\nfunction Header({ email, onClick }) {\n\n  const [isOpen, setIsOpen] = React.useState(true);\n  const [isClicked, setIsClicked] = React.useState(false);\n\n  const linkClassName = \"menu__item\";\n\n  return (\n    <>\n     <header className=\"header\">\n       <img\n        className=\"logo\"\n        src={logo}\n        alt=\"логотип проекта\"\n      />\n        <div className=\"menu\">\n          <Switch>\n            <Route path=\"/sign-in\">\n              <Link to=\"/sign-up\" className={linkClassName}>Регистрация</Link>\n            </Route>\n            <Route path=\"/sign-up\">\n              <Link to=\"/sign-in\" className={linkClassName}>Войти</Link>\n            </Route>\n            <Route path=\"/\">\n              <nav className=\"menu\">\n                <p className={linkClassName}>{email}</p>\n                <Link onClick={onClick} className={linkClassName}>Выйти</Link>\n              </nav>\n            </Route>\n          </Switch>\n        </div>\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/edit-icon.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/add-icon.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/Trash.cbc09a89.svg\";","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport Trash from '../images/Trash.svg'\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const userId = React.useContext(CurrentUserContext)\n  \n  const isOwn = props.dataCards.owner._id === userId._id;\n\n  const cardDeleteButtonClassName = (\n    `elements__remove ${isOwn ? 'elements__remove' : 'elements__remove_inactive'}`\n  );\n\n  const isLiked = props.dataCards.likes.some(i => i._id === userId._id);\n\n  const cardLikeButtonClassName = (\n    `elements__like ${isLiked ? 'elements__like_active' : ' '}`\n  );\n\n  function handleCardClick() {\n    props. onCardClick(props.dataCards);\n  }  \n\n  function handleCardLike(){\n    props.onCardLike(props.dataCards);\n  }\n\n  function handleDeleteClick (){\n    props.onCardDelete(props.dataCards);\n  }\n\n  \n    return(\n      <li className=\"elements__item\">\n        <button className={`${cardDeleteButtonClassName}`} style={{ backgroundImage: `url(${Trash})` }} type=\"button\" onClick ={handleDeleteClick} />\n        <img className=\"elements__image\" src={props.dataCards.link} alt={props.name} onClick={handleCardClick} />\n        <div className=\"elements__info\">\n          <h2 className=\"elements__title\">{props.dataCards.name}</h2>\n          <div className=\"elements__like-container\">\n            <button className={`${cardLikeButtonClassName}`} type=\"button\" onClick={handleCardLike}/>\n            <p className=\"elements__like-counter\">{props.dataCards.likes.length}</p>\n          </div>\n        </div>\n      </li>\n  )\n}\n\nexport default Card","import '../index.css';\nimport React from 'react';\nimport editIcon from '../images/edit-icon.svg';\nimport addIcon from '../images/add-icon.svg';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n  <main className=\"main\">\n    <section className=\"profile\">\n      <div className=\"profile__info\">\n        <div className=\"profile__avatar\">\n          <button type=\"button\" className=\"profile__overlay\" onClick={props.onEditAvatar}>\n            <img\n              className=\"profile__icon\"\n              src={editIcon}\n              alt=\"иконка редактирования профиля\"\n            />\n          </button>\n          <img\n            className=\"profile__image\"\n            src={currentUser.avatar}\n            alt=\"Фото профиля\"\n          />\n        </div>\n        <div>\n          <div className=\"profile__container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button className=\"button button_type_edit\" onClick={props.onEditProfile} type=\"button\" />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n      </div>\n      <button type=\"button\" className=\"button button_type_add\" onClick={props.onAddCard} >\n        <img\n          className=\"button__add-icon\"\n          src={addIcon}\n          alt=\"Иконка добавить\"\n        />\n      </button>\n    </section>\n    <section className=\"elements\">\n      <ul className=\"elements__grid\">\n        {Array.from(props.cards).map((item) => (\n            <Card \n              key={item._id} \n              dataCards = {item} \n              onCardClick={props.onCardClick}\n              onCardLike ={props.onCardLike}\n              onCardDelete ={props.onCardDelete}\n            />\n          ))}\n      </ul>\n    </section>\n  </main>\n  );\n}\n\nexport default Main;","import '../index.css';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n    <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n  </footer>\n  );\n}\n\nexport default Footer;","function ImagePopup(props){\n  return(\n    <section className={`popup popup_type_image ${props.isOpen  ? \"popup_opened\":\"\"}`}>\n      <figure className=\"popup__window popup__window_image\" method=\"POST\">\n        <button type=\"button\" className=\"button button_type_close\" onClick={props.onClose} />\n        <img className=\"popup__image\" alt={props.card.name} src={props.card.link} />\n        <figcaption className=\"popup__caption\" >{props.card.name}</figcaption>\n      </figure>\n    <div className=\"popup__overlay popup__overlay_image\" />\n    </section>\n  )\n}\nexport default ImagePopup","import '../index.css';\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\":\"\"}`}>\n    <div className=\"popup__window\">\n      <button \n        type=\"button\" \n        className=\"button button_type_close\"  \n        onClick={props.onClose} \n      />\n      <h2 className=\"popup__heading\">{props.title}</h2>\n      <form \n        className=\"form\" \n        name={props.name} \n        onSubmit={props.onSubmit}\n        novalidate\n        method=\"POST\"\n      > \n        {props.children}\n        <button className=\"button button_type_submit\" type=\"submit\" >\n        {props.submitText}\n        </button>\n      </form>\n    </div>\n    <div className=\"popup__overlay popup__overlay_edit\" onClick={props.onClose} />\n  </section>\n  );\n}\n\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup (props){\n    const [name , setName ] = React.useState('')\n    const [description , setDescription ] = React.useState('')\n\n    const currentUser = React.useContext(CurrentUserContext);\n    React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n    \n    function handleAboutChange(e) {\n        setDescription(e.target.value);\n    }\n\n      \n    function handleSubmit(e) {\n      e.preventDefault();\n      props.onUpdateUser({\n        name,\n        about: description,\n      });\n    }\n    \n    return(\n        <PopupWithForm  name =\"popup_profile \"  title =\"Редактировать профиль\" submitText=\"Сохранить\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n          <fieldset className=\"form__input-container\">\n            <div className=\"form__item-container\">\n              <input\n                onChange={handleNameChange}\n                value={name || ''}\n                type=\"text\"\n                className=\"form__item form__item_type_name\"\n                name=\"name\"\n                id=\"name-input\"\n                placeholder=\"Ваше имя\"\n                minLength={2}\n                maxLength={40}\n                required\n              />\n              <span className=\"form__input-error name-input-error\" />\n            </div>\n            <div className=\"form__item-container\">\n              <input\n                onChange={handleAboutChange}\n                value={description || ''}\n                type=\"text\"\n                className=\"form__item form__item_type_job\"\n                id=\"job-input\"\n                name=\"job\"\n                placeholder=\"Вид деятельности\"\n                minLength={2}\n                maxLength={200}\n                required\n              />\n              <span className=\"form__input-error job-input-error\" />\n            </div>\n          </fieldset>\n        </PopupWithForm>\n    )\n}\nexport default EditProfilePopup;\n\n\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction EditAvatarPopup(props){\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(\n      avatarRef.current.value\n    );\n  }\n    \n    return(\n        <PopupWithForm  name=\"popup_avatar\"  title = \"Сменить аватар\" submitText=\"Сохранить\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n          <fieldset className=\"form__input-container\">\n            <div className=\"form__item-container\">\n              <input\n                type=\"url\"\n                className=\"form__item form__item_type_link-avatar\"\n                id=\"link-input-avatar\"\n                name=\"avatar\"\n                ref={avatarRef} \n                placeholder=\"Ссылка на картинку\"\n                required\n              />\n              <span className=\"form__input-error link-input-avatar-error\" />\n            </div>\n          </fieldset>\n        </PopupWithForm>\n    )\n}\nexport default EditAvatarPopup;\n\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup (props){\n  const cardsNameRef = React.useRef();\n  const cardsLinkRef = React.useRef();\n  \n  React.useEffect(() => {\n    cardsNameRef.current.value = \"\"\n    cardsLinkRef.current.value = \"\"\n  }, [props.isOpen])\n  \n  function handleSubmit (e){\n      e.preventDefault();\n      props.onAddPlace({\n          name :cardsNameRef.current.value,\n          link :cardsLinkRef.current.value,\n      });\n  }\n\n    return(\n        <PopupWithForm name =\"popup_add-cards \"  title =\"Новое место\" submitText={'Загрузить фото'} onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n            <fieldset className=\"form__input-container\">\n            <div className=\"form__item-container\">\n              <input\n                ref={cardsNameRef}\n                type=\"text\"\n                className=\"form__item form__item_type_title\"\n                id=\"title-input\"\n                name=\"name\"\n                placeholder=\"Название\"\n                minLength={2}\n                maxLength={30}\n                required\n              />\n              <span className=\"form__input-error title-input-error\" />\n            </div>\n            <div className=\"form__item-container\">\n              <input\n                ref={cardsLinkRef}\n                type=\"url\"\n                className=\"form__item form__item_type_link\"\n                id=\"link-input\"\n                name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                required\n              />\n              <span className=\"form__input-error link-input-error\" />\n            </div>\n          </fieldset>\n        </PopupWithForm> \n    )\n}\nexport default AddPlacePopup ;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction DeleteSubmitPopup(props){\n  \n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCardDelete(props.card)\n  }\n    \n    return(\n        <PopupWithForm  \n          name=\"popup_submit-delete\"  \n          title = \"Вы уверены\" \n          submitText=\"да\" \n          onSubmit={handleSubmit} \n          isOpen={props.isOpen} \n          onClose={props.onClose}>\n        </PopupWithForm>\n    )\n}\nexport default DeleteSubmitPopup;\n\n\n","import React from 'react';\n\nfunction Register({ onRegister }) {\n\n  const [inputValue, setInputValue] = React.useState({\n    email: '',\n    password: ''\n  });\n  \n  function handleInputChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const { email, password } = inputValue;\n    onRegister(email, password);\n  }\n\n  return (\n    <div className=\"main\">\n      <div className=\"form-section\">\n        <h2 className=\"form-section__heading\">Регистрация</h2>\n        <form className=\"form\" name=\"profile-form\" onSubmit={handleSubmit}>\n          <fieldset className=\"form__input-container\">\n            <input \n              type=\"email\" \n              className=\"form__item form__item_dark form__item_type_email\" \n              onChange={handleInputChange} \n              name=\"email\" \n              placeholder=\"Email\" \n              value={inputValue.email}\n              autocomplete=\"off\" \n              required \n            />\n            <input \n              type=\"password\" \n              className=\"form__item form__item_dark form__item_type_password\"\n              onChange={handleInputChange}  \n              name=\"password\" \n              placeholder=\"Пароль\" \n              autocomplete=\"off\" \n              value={inputValue.password}\n              required \n            />\n          </fieldset>\n          <button className=\"button button_type_submit button_theme_dark\" type=\"submit\">Зарегистрироваться</button>\n          <p className=\"form-section__paragraph\">Уже зарегистрированы? Войти</p>\n        </form>\n      </div>  \n    </div>\n  );\n}\n\nexport default Register;","import React from 'react';\n\nfunction Login({ onLogin }) {\n\n  const [inputValue, setInputValue] = React.useState({ \n    email: '', \n    password: '' \n  });\n\n  function handleInputChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    const { email, password } = inputValue;\n    if (!email || !password) {\n      return;\n    }\n    onLogin(email, password);\n  }\n\n  return (\n    <div className=\"main\">\n      <div className=\"form-section\">\n        <h2 className=\"form-section__heading\">Вход</h2>\n        <form className=\"form\" name=\"profile-form\" onSubmit={handleSubmit}>\n          <fieldset className=\"form__input-container\">\n            <input \n              type=\"email\" \n              className=\"form__item form__item_dark form__item_type_email\" \n              onChange={handleInputChange} \n              name=\"email\" \n              value={inputValue.email}\n              placeholder=\"Email\" \n              autocomplete=\"off\" \n              required \n            />\n            <input \n              type=\"password\" \n              className=\"form__item form__item_dark form__item_type_password\"\n              onChange={handleInputChange}  \n              name=\"password\" \n              value={inputValue.password}\n              placeholder=\"Пароль\" \n              autocomplete=\"off\" \n              required \n            />\n          </fieldset>\n          <button className=\"button button_type_submit button_theme_dark\" type=\"submit\">Войти</button>\n        </form>\n      </div>  \n    </div>\n  );\n}\n\nexport default Login;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const checkStatus = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Что-то пошло не так: ${res.status}`);\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((response) => {\n    return response.json();\n  })\n  .then((res) => {\n    return res;\n  })\n  .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n})\n.then((res) => checkStatus(res));\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => checkStatus(res));\n}\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ loggedIn, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => loggedIn ? <Route {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from 'react';\nimport error from '../images/error.svg';\nimport success from '../images/success.svg';\n\nfunction InfoTooltip({ isOpen, onClose, isSuccess, message }) {\n  return (\n    <section className={`popup  ${isOpen ? \"popup_opened\":\"\"}`}  isOpen={isOpen} onClose={onClose}>\n      <div className=\"popup__window popup__window_message\">\n        <button \n          type=\"button\" \n          className=\"button button_type_close\"  \n          onClick={onClose} \n        />\n        <img className=\"popup__icon\" src={isSuccess ? success : error} alt=\"информационная иконка\" />\n        <p className=\"popup__heading popup__heading_message\">{message}</p>\n      </div>\n      <div className=\"popup__overlay popup__overlay_edit\" onClick={onClose} />\n    </section>\n  );\n}\n\nexport default InfoTooltip;","import React, { useEffect, useState } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport api from '../utils/Api';\nimport '../index.css';\nimport '../App.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteSubmitPopup from './DeleteSubmitPopup';\nimport Register from './Register';\nimport Login from './Login';\nimport * as auth from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport IhfoTooltip from './InfoTooltip';\n\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  \n  function handleEditAvatarClick (){\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\n  function handleEditProfileClick (){\n     setIsEditProfilePopupOpen (true)\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  function handleAddPlaceClick (){\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const [deleteSubmitPopup, setDeleteSubmitPopup] = React.useState(false);\n\n  const [deleteCard, setDeleteCard] = React.useState({});\n\n  function handleDeleteSubmitPopup (card){\n    setDeleteCard(card)\n    setDeleteSubmitPopup(true)\n  }\n\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false); \n\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [email, setEmail] = useState('');\n\n  const [isSuccessful, setIsSuccessful] = useState(false);\n\n  const [message, setMessage] = useState('');\n\n  const history = useHistory();\n\n \n  function handleCardClick(dataCards) { \n    setSelectedCard(dataCards); \n    setImagePopupOpen(true); \n  } \n\n function closeAllPopups(){\n    setIsEditProfilePopupOpen (false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setImagePopupOpen(false);\n    setSelectedCard({});\n    setDeleteSubmitPopup(false);\n    setInfoTooltipPopupOpen(false);\n  }\n\n  React.useEffect(() => {\n    const handleEsc = (event) => {\n      const btnEscape = 27;\n       if (event.keyCode === btnEscape) {\n        closeAllPopups()\n      }\n    };\n\n    if (isEditProfilePopupOpen === true || isEditAvatarPopupOpen === true || isAddPlacePopupOpen === true || isImagePopupOpen === true || isInfoTooltipPopupOpen === true) {\n      window.addEventListener('keydown', handleEsc);\n    };\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n    \n  }, [isEditProfilePopupOpen, isEditAvatarPopupOpen, isAddPlacePopupOpen, isImagePopupOpen, isInfoTooltipPopupOpen]);\n\n  const [currentUser,setCurrentUser] = React.useState({});\n\n  const [userInfoGet, setUserInfoGet] = React.useState(false);\n\n  const [currentCards,setCurrentCards] = React.useState([])\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCards()])\n      .then(([userInfo, cardList]) => {\n        setCurrentUser(userInfo);\n        setCurrentCards(cardList);\n        setUserInfoGet(true);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  \n  function handleUpdateUser (e){\n    api.changeUserInfo(e)\n    .then((res)=>{\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch(res=>{\n      console.log(`Ошибка:${res}`)\n    })\n  }\n\n  function handleUpdateAvatar(e){\n    api.changeUserImage(e)\n    .then((res)=>{\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch(res=>{\n      console.log(`Ошибка:${res}`)\n    })\n  }\n\n  \n //Функция лайка карточки\n function handleCardLike(card) {\n  //Проверяем, есть ли уже лайк на этой карточке\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  // Отправляем запрос в API и получаем обновлённые данные карточки\n  api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n    // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n    const newCards = currentCards.map((c) => c._id === card._id ? newCard : c);\n    // Обновляем стейт\n    setCurrentCards(newCards);\n  })\n    .catch(err => console.log(err));\n}\n\n \n  //Функция удаления карточки, по аналогии с функцией лайка\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCurrentCards(currentCards.filter(item => item._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n\n   function handleAddPlaceSubmit(e){\n    api.addCard(e)\n    .then( newCard =>{\n      setCurrentCards([newCard, ...currentCards]);\n      closeAllPopups();\n    })\n    .catch(newCard=>{\n      console.log(`Error:${newCard}`)\n    })\n   }\n\n   function handleRegisterSubmit(email, password) {\n    auth.register(email, password)\n      .then((data) => {\n        if (data) {\n          history.push('/sign-in');\n          setInfoTooltipPopupOpen(true);\n          setIsSuccessful(true);\n          setMessage('Вы успешно зарегистрировались!');\n        }\n      })\n      .catch((err) => {\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\n        setInfoTooltipPopupOpen(true);\n        setIsSuccessful(false);\n        if (err === 400) {\n          return console.log('некорректно заполнено одно из полей');\n        }\n      })\n  }\n\n  function handleLoginSubmit(email, password) {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setEmail(email)\n          setLoggedIn(true);\n          localStorage.setItem('token', data.token)\n          history.push('/')\n        }\n      })\n      .catch((err) => {\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\n        setInfoTooltipPopupOpen(true);\n        setIsSuccessful(false);\n        if (err === 400) {\n          return console.log('не передано одно из полей');\n        }\n        if (err === 401) {\n          return console.log('пользователь с email не найден');\n        }\n      })\n  }\n\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.checkToken(token)\n        .then((data) => {\n          setEmail(data.data.email)\n          setLoggedIn(true)\n          history.push('/')\n        })\n        .catch((err) => {\n          if (err === 401) {\n            return console.log('Токен не передан или передан не в том формате');\n          }\n        })\n    }\n  }\n\n  function onSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false)\n    history.push('/sign-in')\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n   return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Header\n            email={email}\n            onClick={onSignOut}\n            loggedIn={loggedIn}\n          />\n          <Switch>\n            <ProtectedRoute exact path='/' loggedIn={loggedIn}>\n              <Main\n                loader={userInfoGet}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddCard ={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                cards = {currentCards} \n                onCardLike ={handleCardLike}\n                onCardDelete ={handleDeleteSubmitPopup}\n              />\n              <Footer />\n            </ProtectedRoute>\n            <Route path=\"/sign-up\">\n              <Register\n                onRegister={handleRegisterSubmit}\n              />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login\n                onLogin={handleLoginSubmit}\n              />\n            </Route>\n            <Route>\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n          </Switch>\n          <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n          <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n          <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}/>\n          <DeleteSubmitPopup card={deleteCard} isOpen={deleteSubmitPopup} onClose={closeAllPopups} onCardDelete={handleCardDelete}/>\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen}/>\n          <IhfoTooltip onClose={closeAllPopups} isOpen={isInfoTooltipPopupOpen}  message={message} isSuccess={isSuccessful} />\n        </div>\n      </CurrentUserContext.Provider>\n    </div>\n    );\n  }\n  \n  export default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <App/>\n      </BrowserRouter>\n  </React.StrictMode>,\ndocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}